import { Component } from '@angular/core';
import { Router, RouterModule } from '@angular/router';
import { NavbarComponent } from '../navbar/navbar.component';
import { CommonModule, NgFor } from '@angular/common';
import { CommonService } from '../services/common.service';
import { IArticle } from '../models/iarticle';

@Component({
  selector: 'app-home',
  standalone: true,
  imports: [RouterModule, NavbarComponent, NgFor, CommonModule],
  templateUrl: './home.component.html',
  styleUrl: './home.component.scss'
})
export class HomeComponent {

  featuredArticle = {
    imageUrl: 'data:image/jpeg;base64,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',
    title: '7 Ways to Retain More of Every Book You Read',
    description: 'There are many benefits to reading more books, but perhaps my favorite is this: A good book can give you a new way to interpret your past experiences....',
    author: 'James Clear',
    publishDate: new Date()
  };

  pages = 0;

  articles: IArticle[] = [];
  isLoading: boolean = true;
  pageSize = 10;
  currentPage = 1;
  paginatedArticles: IArticle[] = [];
  criteria = "";

  constructor(private commonService: CommonService, private router: Router) {
  }

  ngOnInit() {
    this.loadArticles();
  }

  async loadArticles() {
    try {
      this.articles = await this.commonService.getArticles();
      console.log(this.articles);
      this.isLoading = false;
      this.goToPage(1);
      this.pages = Math.ceil(this.articles.length / this.pageSize);
    } catch (error) {
      console.error('Error loading articles:', error);
      this.isLoading = false;
    }
  }

  goToPage(page: number) {
    this.currentPage = page;
    const startIndex = (page - 1) * this.pageSize;
    const endIndex = startIndex + this.pageSize;

    if (this.criteria === "latest") {
      const sortedArticles = this.articles.sort((a, b) => b.publishDate.getTime() - a.publishDate.getTime());
      this.paginatedArticles = sortedArticles.slice(startIndex, endIndex);
    } else {
      this.paginatedArticles = this.articles.slice(startIndex, endIndex);
    }
  }

  handleSearch(query: string) {
    this.criteria = "search";
    const filteredArticles = this.articles.filter(article =>
      article.title.toLowerCase().includes(query.toLowerCase()) ||
      article.authorName.toLowerCase().includes(query.toLowerCase())
    );
    this.pages = Math.ceil(filteredArticles.length / this.pageSize);
    this.paginatedArticles = filteredArticles.slice(0, this.pageSize);
    this.currentPage = 1;
  }

  sortArticles(criteria: string) {
    this.criteria = criteria;
    this.goToPage(this.currentPage);
  }

  viewArticle(article: IArticle)
  {
    this.router.navigate(['view-article/',article.id]);
  }


}
